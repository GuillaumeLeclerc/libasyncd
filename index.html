<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Libasyncd by wolkykim</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Libasyncd</h1>
        <h2>Embeddable Event-based Asynchronous Message/HTTP Server library for C/C++</h2>
        <a href="https://github.com/wolkykim/libasyncd" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="libasyncd" class="anchor" href="#libasyncd"><span class="octicon octicon-link"></span></a>libasyncd</h1>

<p>Embeddable Event-based Asynchronous Message/HTTP Server library for C/C++.</p>

<h2>
<a name="what-is-libasyncd" class="anchor" href="#what-is-libasyncd"><span class="octicon octicon-link"></span></a>What is libasyncd?</h2>

<p>Libasyncd is an embeddable event-driven asynchronous message server for C/C++.
It supports HTTP protocol by default and you can add your own protocol handler(hook)
to build your own high performance server.</p>

<p>Asynchronous way of programming can easily go quite complicated since you need to
handle every possible things in non-blocking way. So the goal of Libasyncd project is
to make a flexible and fast asynchronous server framework with nice abstraction that
can cut down the complexity.</p>

<h2>
<a name="why-libasyncd" class="anchor" href="#why-libasyncd"><span class="octicon octicon-link"></span></a>Why libasyncd?</h2>

<ul>
<li>Stands as a generic event-based server library.</li>
<li>Not only for HTTP server but also as a RPC server, as a Protocol Buffer channel,
as a Message transforming layer...</li>
<li>Embeddable library module - you write main().</li>
<li>Simple to use.</li>
<li>Pluggable protocols.</li>
<li>HTTP protocol handler (support chunked transfer-encoding)</li>
<li>Support of multiple hooks.</li>
<li>Support request pipelining.</li>
<li>Support SSL - Just flip the switch on.</li>
</ul><h2>
<a name="compile--install" class="anchor" href="#compile--install"><span class="octicon octicon-link"></span></a>Compile &amp; Install.</h2>

<pre><code>$ git clone git clone https://github.com/wolkykim/libasyncd
$ cd libasyncd
$ (cd lib; run2init-submodules.sh; cd qlibc; ./configure; make) 
$ ./configure
$ make
</code></pre>

<h2>
<a name="api-reference" class="anchor" href="#api-reference"><span class="octicon octicon-link"></span></a>API Reference</h2>

<ul>
<li><a href="http://wolkykim.github.io/libasyncd/doc/html/files.html">libasyncd API reference</a></li>
</ul><h2>
<a name="hello-world-asynchronous-socket-server-example" class="anchor" href="#hello-world-asynchronous-socket-server-example"><span class="octicon octicon-link"></span></a>"Hello World", Asynchronous Socket Server example.</h2>

<pre><code>int my_conn_handler(short event, ad_conn_t *conn, void *userdata) {
    if (event &amp; AD_EVENT_WRITE) {
        evbuffer_add_printf(conn-&gt;out, "Hello World.");
        return AD_CLOSE;
    }
    return AD_OK;
}

int main(int argc, char **argv) {
    ad_log_level(AD_LOG_DEBUG);
    ad_server_t *server = ad_server_new();
    ad_server_set_option(server, "server.port", "2222");
    ad_server_register_hook(server, my_conn_handler, NULL);
    return ad_server_start(server);
}
</code></pre>

<h2>
<a name="hello-world-asynchronous-https-server-example" class="anchor" href="#hello-world-asynchronous-https-server-example"><span class="octicon octicon-link"></span></a>"Hello World", Asynchronous HTTPS Server example.</h2>

<pre><code>int my_http_get_handler(short event, ad_conn_t *conn, void *userdata) {
    if (ad_http_get_status(conn) == AD_HTTP_REQ_DONE) {
        ad_http_response(conn, 200, "text/html", "Hello World", 11);
        return AD_DONE; // Keep connection alive.
    }
    return AD_OK;
}

int my_http_default_handler(short event, ad_conn_t *conn, void *userdata) {
    if (ad_http_get_status(conn) == AD_HTTP_REQ_DONE) {
        ad_http_response(conn, 501, "text/html", "Not implemented", 15);
        return AD_CLOSE; // Close connection.
    }
    return AD_OK;
}

int main(int argc, char **argv) {
    ad_log_level(AD_LOG_DEBUG);
    ad_server_t *server = ad_server_new();
    ad_server_set_option(server, "server.port", "8888");
    ad_server_set_option(server, "server.ssl_cert", "ssl.cert");
    ad_server_set_option(server, "server.ssl_pkey", "ssl.pkey")
    ad_server_register_hook(server, ad_http_handler, NULL); // HTTP Parser is also a hook.
    ad_server_register_hook_on_method(server, "GET", my_http_get_handler, NULL);
    ad_server_register_hook(server, my_http_default_handler, NULL);

    return ad_server_start(server);
}
</code></pre>

<p>Please refer sample codes such as echo example in examples directory for more details.</p>

<h2>
<a name="references" class="anchor" href="#references"><span class="octicon octicon-link"></span></a>References</h2>

<ul>
<li><a href="http://en.wikipedia.org/wiki/C10k_problem">C10K problem</a></li>
<li><a href="http://libevent.org/">libevent library - an event notification library</a></li>
<li><a href="http://wolkykim.github.io/qlibc/">qLibc library - a STL like C library</a></li>
</ul>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/wolkykim/libasyncd/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/wolkykim/libasyncd/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/wolkykim/libasyncd"></a> is maintained by <a href="https://github.com/wolkykim">wolkykim</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>